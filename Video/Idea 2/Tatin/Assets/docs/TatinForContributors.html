<!DOCTYPE html>
<html lang="en" style="scroll-behavior:smooth" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta charset="utf-8">
<title>Tatin for Contributors</title>
<style media="screen">
html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;}body{margin:0;}article,aside,footer,header,nav,section{display:block;}h1{font-size:2em;margin:0.67em 0;}figcaption,figure,main{display:block;}figure{margin:1em 40px;}hr{box-sizing:content-box;height:0;overflow:visible;}pre{font-family:monospace, monospace;font-size:1em;}a{background-color:transparent;-webkit-text-decoration-skip:objects;}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted;}b,strong{font-weight:inherit;}b,strong{font-weight:bolder;}code,kbd,samp{font-family:monospace, monospace;font-size:1em;}dfn{font-style:italic;}mark{background-color:#ff0;color:#000;}small{font-size:0.8em;}sub,sup{font-size:0.75em;line-height:0;position:relative;vertical-align:baseline;}sub{bottom:-0.25em;}sup{top:-0.5em;}audio,video{display:inline-block;}audio:not([controls]){display:none;height:0;}img{border-style:none;}svg:not(:root){overflow:hidden;}button,input,optgroup,select,textarea{font-family:sans-serif;font-size:1em;line-height:1.15;margin:0;}button,input{overflow:visible;}button,select{text-transform:none;}button,html [type="button"], [type="reset"],[type="submit"]{-webkit-appearance:button;}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0;}button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText;}fieldset{padding:0.35em 0.75em 0.625em;}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal;}progress{display:inline-block;vertical-align:baseline;}textarea{overflow:auto;}[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0;}[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto;}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px;}[type="search"]::-webkit-search-cancel-button,[type="search"]::-webkit-search-decoration{-webkit-appearance:none;}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit;}details, menu{display:block;}summary{display:list-item;}canvas{display:inline-block;}template{display:none;}[hidden]{display:none;}body{margin:0;font-family:"Bookman Old Style", "Callisto MT", Bookman, "Goudy Old Style", Garamond, serif;background-color:#fdfdfd;font-size:18px;line-height:1.4;max-width:900px;padding:0.83em;color:#292929;word-wrap:break-word;overflow-wrap:break-word;}h1, h2, h3, h4, h5, h6{color:#404040;font-weight:800;padding-left:0;}h1, h2, h3, h4, h5, h6{font-family:"Century Gothic", Verdana, "Sans";}h1, h2, h3, h4, p{margin-bottom:0.88em;}h1{font-size:1.8em;margin:0.27em 0 1.11em 0;}h1 > code, h2 > code, h3 > code, h4 > code, h5 > code, h6 > code{font-size:1em;background-color:inherit;}h2{font-size:1.44em;margin:0.55em 0 0.55em 0;padding-top:0.55em;border-bottom:1px solid Silver;}h3{margin:0;margin-top:0.55em;font-size:1.22em;}nav h3{font-size:0.88em;margin-left:0.83em;margin-bottom:0.27em;}h4{font-size:1em;margin:0;margin-top:0.55em;}h5{font-size:0.94em;margin:0;margin-top:0.66em;padding:0;}h6{font-size:0.88em;margin:0;margin-top:0.66em;padding:0;}a{color:#0099ff;margin:0;padding:0;vertical-align:baseline;}a:visited{color:purple;}a.autoheader_anchor{text-decoration:none;}ul{list-style-type:disc;}dd{padding-top:0.25em;}p.first_dd{padding-top:0.25em;}li > ul, ol{padding-bottom:0;}li{line-height:1.3;margin-left:1.38em;margin-bottom:0.55em;}ul > li{margin-left:2.5em;}ol > li{margin-left:2.5em;}li ul{margin-left:0.55em;}li ul{margin-left:0.27em;}li p{padding:1px 0 0 0;margin:0.55em 0 0.27em 0;line-height:1.3;}ul, ol{line-height:1.3;padding:0.33em 0 0 0;margin:0.5em;margin-top:1.2em;}p{line-height:1.2;padding:0.40em 0 0 0;margin:0;}pre{overflow:scroll;padding:0.55em 0.27em;margin:0.55em 0 0.55em 0 !important;background-color:#faebd7;color:#3e3e3e;border:1px Silver dashed;display:block;font-family:APLFont, monospace;font-weight:normal;white-space:pre-wrap;}pre > code{line-height:1.2;border:0;padding:0;margin:0;background-color:inherit;color:inherit;font-weight:inherit;white-space:pre-wrap;}td code{padding:0;}a code{padding:0;font-size:1em;}nav code{background-color:inherit;font-weight:400;color:inherit;}code{font-family:APLFont, monospace;color:Black;font-weight:800;line-height:1.2;font-size:0.88em;margin:0;color:#950000;padding:0 0.16em;}tbody tr:nth-child(even){background-color:#F0F0F0;}th{background-color:#E6E6E6;color:black;}th, td{padding:0.16em 0.55em;vertical-align:top;}table td + td{border-left:1px solid gray;}table th + th{border-left:1px solid gray;}table{border-color:Black;margin:1.5em 0;border:2px black;border-collapse:collapse;font-family:APLFont;font-size:0.88em;line-height:1.2;border:1px solid Gray;}li > table{margin:0.55em 0 0.55em 0;}tr{margin:1.11em;}th{font-weight:bold;}tfoot td{font-weight:bold;}blockquote{border-left:0.27em solid silver;padding-left:0.27em;margin:0.83em 0.27em 0.83em 0.55em;}blockquote ul li{margin-left:1.38em;}blockquote ol li{margin-left:1.38em;}li > blockquote{margin-left:0;}nav{background-color:#f5f5f5;border:1px solid Black;padding:0.55em;margin:0.55em;margin-right:0;box-shadow:0.27em 0.27em 0.27em Gray;overflow:hidden;clear:both;}nav#main_nav{position:fixed;top:0;right:0.55em;float:none;width:auto;}nav#main_nav_no_collapse li{font-size:0.77rem;}nav#main_nav_no_collapse li{line-height:1.5;}nav ul{list-style-type:none;margin:0 0 0.11em 0;padding:0;}nav a:visited{color:black;}nav ul li{margin-bottom:0.16em;}nav li p{margin:0;padding:0;line-height:1;margin:0;padding:0;}nav li{font-size:0.75rem;line-height:1.3;padding:0;margin-top:0;margin-bottom:0;margin-left:0.83em;}nav p{font-weight:bold;font-size:0.75rem;padding-top:0;}dl{margin-top:0.1em;margin-bottom:0.1em;}dt{margin-top:0.75em;margin-bottom:0.1em;font-weight:800;}label#hide_toc_label{font-size:0.8em;}.toc-container{position:relative;height:auto;}div.toc-container h1{font-size:0.88em;margin:0.27em 0 0.27em 0;}[type="checkbox"]{position:absolute;left:-9999px;}label{display:block;width:100%;height:1.1em;cursor:pointer;top:0;padding-left:1.1em;}label:before{content:'Table of contents \25BC';font-weight:bold;font-size:90%;padding-bottom:0;}[type="checkbox"] ~ div{display:none;}[type="checkbox"]:checked ~ div{display:block;margin-top:1.1em;}[type="checkbox"]:checked + label{top:100%;}[type="checkbox"]:checked + label:before{content:'Table of contents ▲';}div#footnotes_div p{line-height:1;padding-bottom:0;padding-top:0;}div#footnotes_div ol{padding-top:0;}@font-face{font-family:"APLFont";src:local("APL385 Unicode"), url("https://misc.aplteam.com/apl385.ttf") format("truetype");}.no_display{display:none;}.red{color:red;}.center{text-align:center;margin-left:auto;margin-right:auto;}.left{text-align:left;margin-right:0 auto;}.right{text-align:right;margin-left:0 auto;}img{margin-top:0.55em;margin-bottom:0.27em;}div.leanpub{padding:0.83em 0.55em 1.11em 0;margin:0.55em 0 0 0.27em;overflow:auto;}div.leanpub_A{border:1px solid black;background-color:#f1f1f1;padding:0.55em;margin:1.11em 0 0.83em 0;}div.leanpub h3, div.leanpub_A h3{font-size:1.2em;padding:0;margin:0;}div.leanpub h4, div.leanpub_A h4{font-size:1.1em;padding:0.27em 0 0 0;margin:0;}div.leanpub h5, div.leanpub h5{font-size:1.0em;padding:0.27em 0 0 0;margin:0;}div.leanpub_A h5, div.leanpub_A h5{font-size:1.0em;padding:0.27em 0 0 0;margin:0;}div.leanpub img{padding:0;margin:0 1.11em 0.27em 0;}div.leanpub_A > p:first-child{padding-top:0;margin-top:0;}div.leanpub img{float:left;padding:0;margin:0.55em 1.11em 0 0;clear:both;}div.leanpub tbody *{background-color:transparent;}div.leanpub p{padding:0.17em 0 0 0;margin:0;}span.leanpub_code{color:Red;}div.leanpub p{display:block;padding:0.44em 0 0 0;}div.leanpub > div{margin-left:2.27em;}.print_only{display:none;}
</style>
<style media="print">
@page{margin:25mm 20mm 25mm 20mm;}body{font-family:"Bookman Old Style", "Callisto MT", Bookman,"Goudy Old Style", Garamond, serif;font-size:9pt;line-height:1.2;}h1{font-size:170%;}h2{font-size:110%;}h3{font-size:110%;}h4{font-size:105%;}h5{font-size:100%;}h6{font-size:95%;}h1{margin:0 0 20pt 0;}h2{margin:15pt 0 3pt 0;}h3{margin:10pt 0 0pt 0;}h4{margin:10pt 0 0pt 0;}h5{margin:9pt 0 0pt 0;}h6{margin:9pt 0 0pt 0;}h1, h2, h3, h4, h5, h6{color:black;font-family:"Century Gothic", Verdana, "Sans";page-break-after:avoid;}h1 > code, h2 > code, h3 > code, h4 > code, h5 > code, h6 > code{font-size:100%;}h2{border-bottom:1pt solid Silver;padding-bottom:2pt;}.h_tag{page-break-after:avoid;break-after:avoid;}abbr[title]{border-bottom:0;text-decoration:none;}a{color:black;margin:0;padding:0;vertical-align:baseline;text-decoration:none;font-style:italic;}a.autoheader_anchor{text-decoration:none;font-style:normal;page-break-after:avoid;break-after:avoid;}ul{list-style-type:square;}ul, ol{padding:0;margin:0;margin-top:10pt;}li > ul, ol{padding-bottom:0;}li{line-height:1.3;margin-left:13pt;margin-bottom:5pt;}ul > li{margin-left:25pt;}ol > li{margin-left:25pt;}li ul{margin-left:5pt;}li ul{margin-left:3pt;}li p{padding:1pt 0 0 0;margin:5pt 0 3pt 0;line-height:1.3;}p, ul, ol{line-height:1.3;padding:4pt 0 0 0;margin:0;color:black;}ul, ol{margin-top:0.75em;}pre{padding:3pt;margin:5pt 0;white-space:pre-wrap;background-color:#FAFAFA;border:1pt Silver solid;display:block;font-family:APLFont, monospace;page-break-inside:avoid;}pre code{background-color:#FAFAFA;color:Black;padding:0;margin:0 0 -6pt 0;line-height:1.1;border:0;white-space:pre-wrap;}code{font-family:APLFont, monospace;line-height:1.2;font-size:9pt;padding:3pt 1pt 3pt 1pt;color:#950000;padding:3pt 0pt 3pt 0pt;margin:0;}tbody th, tfoot tr{background-color:#e6e6e6;}tbody tr:nth-child(even){background-color:#fafafa;}th{background-color:#F0F0F0;}th, td{padding:1pt 5pt;border:1px solid #E3E3E3;vertical-align:top;}table td + td{border-left:1px solid gray;}table th + th{border-left:1px solid gray;}table code{font-style:normal;padding-left:0;padding-right:0;}table{margin:1.5em 0;font-family:APLFont;font-size:9pt;padding:0;border:1pt solid silver;border-collapse:collapse;}li > table{margin:10pt 0 10pt 0;}tr{margin:20pt;}th{font-weight:bold;}tfoot td{font-weight:bold;}blockquote{border-left:5pt solid silver;padding-left:5pt;margin:8pt 3pt 8pt 8pt;}nav{background-color:#f8f8f8;border:1pt solid Gray;width:auto;float:right;padding:5pt 5pt 5pt 0;margin:5pt 0 5pt 5pt;page-break-inside:avoid;break-inside:avoid;clear:both;overflow:hidden;}nav *{font-size:75%;}nav ul{list-style-type:none;margin:0 0 2pt 0;padding:0;}nav ul li{margin-bottom:0;}nav li p{margin:0;padding:0;line-height:1;margin:0;padding:0;}nav li{font-size:9pt;line-height:1;padding:0;margin-top:0;margin-bottom:0;margin-left:8pt;}dl{margin-top:0;margin-bottom:10pt;}dt{margin-top:10pt;margin-bottom:0;font-weight:800;page-break-inside:avoid;}dd{margin-top:2pt;}label#hide_toc_label{font-size:65%;}.toc-container{position:relative;height:auto;margin-top:2pt;background-color:inherit;}.toc-container h3{margin:0 0 2pt 7pt;}[type="checkbox"]{display:none;}label{display:block;width:100%;height:1.1em;top:0;padding-left:10pt;}label:before{content:'Table of contents';font-weight:bold;font-size:140%;padding-bottom:10pt;}a.external_link::before{content:" 🌎";}a.bookmark_link::before{content:" ➯";}a.mailto_link::before{content:" ✉"}nav a.bookmark_link{font-style:normal;}nav p{margin-left:10pt;font-weight:bold;font-size:9pt;}nav a{font-style:normal;}nav a.bookmark_link::before{content:"";}div#footnotes_div a::before{content:"";}div#footnotes_div a{font-style:normal;}div#footnotes_div{page-break-inside:avoid;}@font-face{font-family:"APLFont";src:local("APL385 Unicode"), url("https://misc.aplteam.com/apl385.ttf") format("truetype");}.no_print{display:none;}.red{color:red;}.center{text-align:center;margin:0 auto;}.left{text-align:left;margin-right:0 auto;}.right{text-align:right;margin-left:0 auto;}.avoid_page_break{page-break-inside:avoid;}.page_break_before{page-break-before:always;}div.leanpub{margin:10pt 0 10pt 8pt;page-break-inside:avoid;}div.leanpub_A{border:1pt solid black;background-color:#f9f9f9;padding:5pt;margin:10pt 0 10pt 0;page-break-inside:avoid;}div.leanpub h3, div.leanpub_A h3{font-size:1.2em;padding:3pt 0 0 0;margin:0;}div.leanpub h4, div.leanpub_A h4{font-size:1.1em;padding:3pt 0 0 0;margin:0;}div.leanpub h5, div.leanpub h5{font-size:1.0em;padding:3pt 0 0 0;margin:0;}div.leanpub_A h5, div.leanpub_A h5{font-size:1.0em;padding:3pt 0 0 0;margin:0;}div.leanpub img{padding:0;margin:0 10pt 2pt 0;}div.leanpub_A > p:first-child{padding-top:0;margin-top:0;}div.leanpub > div > h1:first-child{padding-top:5pt;}div.leanpub img{float:left;padding:0;margin:5pt 10pt 0 0;clear:both;}div.leanpub p{padding:3pt 0 0 0;margin:0;}span.leanpub_code{font-weight:bold;}div.leanpub p{display:block;padding:8pt 0 0 0;}div.leanpub > div{margin-left:35pt;}sup{font-size:0.75em;line-height:0;position:relative;vertical-align:baseline;top:-0.4em;}
</style>

</head>
<body>
<nav id="main_nav">
<input type="checkbox" id="hide_toc">
<label id="hide_toc_label" for="hide_toc"></label>
<div class="toc-container">
<ul>
<li><a href="#Tatin-is-managed-by-Cider">1. Tatin is managed by Cider</a></li>
<li><a href="#Requirements">2. Requirements</a></li>
<li><a href="#How-to-work-on-Tatin">3. How to work on Tatin</a></li>
<li><a href="#Prepare-either-the-Client-or-the-Server">4. Prepare either the Client or the Server</a></li>
<li><a href="#Execute-the-test-cases">5. Execute the test cases</a></li>
<li><a href="#Updating-Tatin-packages-used-by-Tatin">6. Updating Tatin packages used by Tatin</a></li>
<li><a href="#Do-your-thing">7. Do your thing</a></li>
<li><a href="#How-to-create-new-versions">8. How to create new versions</a>
<ul>
<li><a href="#ov1">8.1. Overview</a></li>
<li><a href="#Details">8.2. Details</a></li>
<li><a href="#Create-just-a-new-Client--version">8.3. Create just a new Client (or Server) version</a></li>
</ul></li>
<li><a href="#Creating-a-proofread-document">9. Creating a proofread document</a>
</ul>
</div>
</nav>
<div class="h_tag">
<a href="#Tatin-for-Contributors" id="Tatin-for-Contributors" class="autoheader_anchor">
<h1 data-id="Tatin-for-Contributors">Tatin for Contributors</h1>
</a>
</div>
<p>If you want to contribute to the <a href="https://github.com/aplteam/Tatin" class="external_link">Tatin project on GitHub</a> or make adjustments to Tatin for an in-house project, this document will help you.</p>
<p>Tatin is published under the MIT license, so everybody is welcome to contribute to the code. It is not owned by anybody, it is rather a community project.</p>
<p>This is not an introduction into how to contribute to a project that is hosted on GitHub. If you are not familiar with that then google for “contribute to a github project”.</p>
<div class="h_tag">
<a href="#Tatin-is-managed-by-Cider" id="Tatin-is-managed-by-Cider" class="autoheader_anchor">
<h2 data-id="Tatin-is-managed-by-Cider">1. Tatin is managed by Cider</h2>
</a>
</div>
<p>Note that Tatin is managed by the <a href="https://github.com/aplteam/Cider" class="external_link">Cider project management tool</a>. If you are not familiar with Cider you are advised to spend some time playing with it before using it for serious work. 30 minutes should suffice.</p>
<p>Though it is possible making changes to Tatin or adding code without Cider, using Cider makes this easier.</p>
<div class="h_tag">
<a href="#Requirements" id="Requirements" class="autoheader_anchor">
<h2 data-id="Requirements">2. Requirements</h2>
</a>
</div>
<p>In order to work on Tatin you need at least Dyalog 18.0 Unicode (it will never run in Classic).</p>
<p>You need one of:</p>
<ul>
<li>Windows</li>
<li>Linux</li>
<li>Mac-OS.</li>
</ul>
<p>The Pi and AIX are not supported but that restriction might be lifted with a later version.</p>
<div class="h_tag">
<a href="#How-to-work-on-Tatin" id="How-to-work-on-Tatin" class="autoheader_anchor">
<h2 data-id="How-to-work-on-Tatin">3. How to work on Tatin</h2>
</a>
</div>
<p>After downloading Tatin from GitHub and saving it somewhere, say in <code>C:\Tatin</code>, you issue the command</p>
<pre><code>]Cider.OpenProject C:\Tatin</code></pre>
<p>and you are ready to go.</p>
<p>Note that there is no need to save a workspace or anything: every function, operator, class, interface or namespace script changed in <code>#.Tatin</code> will be automatically saved to disk by <a href="https://github.com/dyalog/link" class="external_link">Link</a>.</p>
<div class="h_tag">
<a href="#Prepare-either-the-Client-or-the-Server" id="Prepare-either-the-Client-or-the-Server" class="autoheader_anchor">
<h2 data-id="Prepare-either-the-Client-or-the-Server">4. Prepare either the Client or the Server</h2>
</a>
</div>
<p>If you want to run any Tatin client code execute the function</p>
<pre><code>#.Tatin.Admin.Initialize_Client</code></pre>
<p>If you want to run the Tatin Server execute the function</p>
<pre><code>#.Tatin.Admin.Initialize_Server</code></pre>
<p>You are advised <em>not to run</em> the Client and the Server in the same workspace.</p>
<div class="h_tag">
<a href="#Execute-the-test-cases" id="Execute-the-test-cases" class="autoheader_anchor">
<h2 data-id="Execute-the-test-cases">5. Execute the test cases</h2>
</a>
</div>
<p>It is recommended to start a fresh APL session and then load Tatin into the CLEAR WS before running the test cases.</p>
<p>Use <code>]Cider.OpenProject</code> to do this.</p>
<div class="leanpub_A">
<h3>Creating a new version</h3>
<p>Creating a new version is actually discussed later in this document, but there are situations when you need to create a new version <em>before</em> you execute the test cases.</p>
<p>The reason for this is that one group of test cases executes user commands. If they are affected by anything you've contributed then naturally you want the new version to be available in <code>⎕SE</code> for execution, but that is only possible if you create a new version first.</p>
</div>

<p>By default port 5001 is used for the test cases. You may change the INI files for both server and client if that does not work for you.</p>
<p>In order to execute the full test suite you need to start a Tatin Server first. For that execute the following steps:</p>
<ol start="1">
<li>Instantiate Dyalog Unicode 18.0 or later</li>
<li>Execute:
<pre><code>]Cider.OpenProject /path/to/Tatin</code></pre></li>
<li>Execute:
<pre><code>#.Tatin.TestCasesServer.RunTests</code></pre>
<p>This function changes the current directory, establishes all required references and then instantiates the <code>Tester2</code> class under the name <code>T</code> before finally calling the <code>T.Run</code> function; this will start a Tatin server.</p></li>
</ol>
<p>Now you are ready to execute the test suite.</p>
<ol start="1">
<li>Instantiate Dyalog Unicode 18.0 or later</li>
<li>Execute:
<pre><code>]Cider.OpenProject /path/to/Tatin</code></pre></li>
<li>Execute:
<pre><code>#.Tatin.TestCases.RunTests</code></pre>
<p>This changes the current directory, establishes all required references, instantiates the <code>Tester2</code> class under the name <code>T</code> before finally calling the <code>T.Run</code> function; this will run all test cases, including those that communicate with the Tatin test server and the principal Tatin server available at <a href="https://tatin.dev" class="external_link">https://tatin.dev</a></p></li>
</ol>
<div class="leanpub_A">
<h3>On test cases</h3>
<p>The procedure outlined in this document discusses just how to run tests in case you expect them to succeed. The test framework offers much more than that: it is flexible and powerful; for details refer to <a href="https://github.com/aplteam/Tester2" class="external_link">https://github.com/aplteam/Tester2</a></p>
<p>If you want (or must) take advantage of the test framework's features in order to, say, hunt down a bug, then you should look into the two functions <code>#.Tatin.TestCases.RunTests</code> and <code>#.Tatin.TestCasesServer.RunTests</code>.</p>
<p>In particular the <code>Prepare</code> function, which is called by the <code>RunTests</code> functions, is important: it instantiates the <code>Tester2</code> class as <code>T</code>, and that's the starting point for whatever you are trying to achieve.</p>
</div>

<div class="h_tag">
<a href="#Updating-Tatin-packages-used-by-Tatin" id="Updating-Tatin-packages-used-by-Tatin" class="autoheader_anchor">
<h2 data-id="Updating-Tatin-packages-used-by-Tatin">6. Updating Tatin packages used by Tatin</h2>
</a>
</div>
<p>Although Tatin depends on a couple of Tatin packages, it cannot be used to load those packages; the common bootstrap problem.</p>
<p>For that reason the packages installed in the packages\ folder are copied over to the APLSource\ folder. That allows loading the packages with Link.</p>
<p>If you need to add a package then you need to perform a couple of steps:</p>
<ul>
<li>Install that package in packages\ (or packages_dev/ if its only required for the test cases)</li>
<li>Add the package to the file TatinPackages.config</li>
<li>Call <code>#.Tatin.Admin.UpdatePackages 1</code></li>
</ul>
<p>For further details see the comments in the function <code>UpdatePackages</code>.</p>
<div class="h_tag">
<a href="#Do-your-thing" id="Do-your-thing" class="autoheader_anchor">
<h2 data-id="Do-your-thing">7. Do your thing</h2>
</a>
</div>
<p>Now that you have a working version of Tatin on your machine you can start contributing.</p>
<p>If you find parts of this document confusing, outdated, unclear or missing bits and pieces: change it; that might well be your first valuable contribution.</p>
<p>Whether you improved the documentation or fixed a bug or added a feature, at the end of the day you need to create a Pull Request (PR). That will make the people in charge of the Tatin project check your contribution. At the time of writing that is APL Team Ltd, but this might (and eventually will) change in the future of course.</p>
<div class="h_tag">
<a href="#How-to-create-new-versions" id="How-to-create-new-versions" class="autoheader_anchor">
<h2 data-id="How-to-create-new-versions">8. How to create new versions</h2>
</a>
</div>
<div class="h_tag">
<a href="#ov1" id="ov1" class="autoheader_anchor">
<h3 data-id="ov1">8.1. Overview</h3>
</a>
</div>
<p>Usually your job is done once you've created a Pull Request (PR). However, here we document what the administrator of the Tatin project on GitHub needs to do once she has accepted at least one PR or finished her own work on a branch.</p>
<p>In order to create new versions of the Client <em>and</em> the Server you need to perform two steps:</p>
<ol start="1">
<li>Bump the version number: major, minor or patch number. Leave the build number and the version date alone: they will be twisted as part of the build process automatically.</li>
<li>Execute:
<pre><code>{noQLXFlag} #.Tatin.Admin.Make 1</code></pre></li>
</ol>
<div class="h_tag">
<a href="#Details" id="Details" class="autoheader_anchor">
<h3 data-id="Details">8.2. Details</h3>
</a>
</div>
<ul>
<li><code>noQLXFlag</code> is an optional Boolean that defaults to 0. Setting this to 1 makes sense only for debugging purposes.</li>
<li><code>⍵</code> must be 1. This is a simple safety net against accidental calls.</li>
</ul>
<p>Notes:</p>
<ul>
<li>The build ID is always bumped when you create a new version.</li>
<li>The <code>Make</code> function will fire up two instances of Dyalog APL, one for creating the client version, one for creating the server version. <code>noQLXFlag</code>, if 1,  prevents the interpreter from running the code straight away.</li>
</ul>
<div class="leanpub_A">
<h3>The <code>load</code> and <code>lx</code> command line parameters</h3>
<p>Despite its name <code>noQLXFlag</code> is not associated with <code>⎕LX</code>: for this to work the command line parameters <code>load</code> and <code>lx</code> are invoked, and <code>-x</code> is added in case <code>noQLXFlag</code> is 1, preventing the interpreter from executing the expression noted as <code>lx.</code></p>
<p>If this looks unfamiliar to you: these were introduced in 18.0.</p>
</div>

<p>The <code>Make</code> function performs the following steps:</p>
<ol start="1">
<li>It runs <code>Tatin.Admin.MakeClient</code></li>
<li>It compiles the documentation (markdown) to HTML files and distribute the files</li>
<li>It runs <code>#.Tatin.Admin.MakeServer</code></li>
</ol>
<p>In the process the <code>Dist/</code> folder will be recreated from scratch. The <code>.zip</code> files in <code>Dist/</code> are to be released on GitHub. The <code>Dist/</code> folder will not appear on GitHub due to <code>.gitignore</code>.</p>
<p>There will be three zip files:</p>
<pre><code>Tatin-Client-{major}.{minor}.{patch}.zip
Tatin-Documentation-{major}.{minor}.{patch}.zip
Tatin-Server-{major}.{minor}.{patch}.zip</code></pre>
<div class="h_tag">
<a href="#Create-just-a-new-Client--version" id="Create-just-a-new-Client--version" class="autoheader_anchor">
<h3 data-id="Create-just-a-new-Client--version">8.3. Create just a new Client (or Server) version</h3>
</a>
</div>
<div class="h_tag">
<a href="#ov2" id="ov2" class="autoheader_anchor">
<h4 data-id="ov2">8.3.1. Overview</h4>
</a>
</div>
<p>If you have worked just on the Client or just the Server you may be inclined to save time by creating not both. and also avoid compiling the documentation.</p>
<p>However, there is some danger to get it wrong:</p>
<ul>
<li>Client and Server share the code in the namespace <code>Registry</code>, so you just <strong>must</strong> make sure that nothing in that namespace was changed, otherwise you should create both Client and Server</li>
<li>The build number is bumped, and that's how it should be, but as a result the ZIP created will have different build number for Client and Server.</li>
</ul>
<p>Therefore, as a rule of thumb, <strong>always</strong> create both Client and Server in case you want to publish that version.</p>
<div class="h_tag">
<a href="#How-to" id="How-to" class="autoheader_anchor">
<h4 data-id="How-to">8.3.2. How-to</h4>
</a>
</div>
<p>You may create just the client side with:</p>
<p>Note also that</p>
<div class="h_tag">
<a href="#Creating-a-proofread-document" id="Creating-a-proofread-document" class="autoheader_anchor">
<h2 data-id="Creating-a-proofread-document">9. Creating a proofread document</h2>
</a>
</div>
<p>There is a function that creates a single HTML file from all the Tatin markdown documentation. That makes proofreading significantly easier:</p>
<pre><code>      htmlFilename←#.Tatin.Admin.CreateProofReadDocument 1</code></pre>
<p>Now open that file with the word processor of your choice and use its spell-checking capabilities.</p>
</body>
</html>
